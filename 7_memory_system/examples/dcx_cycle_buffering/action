short_term_buffers share sanitized snapshots, attention_router ensures relevant vectors are resident